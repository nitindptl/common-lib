!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/material"),require("@angular/common"),require("@angular/cdk/table"),require("@angular/cdk/collections"),require("rxjs/operators"),require("rxjs"),require("@angular/common/http"),require("@angular/router")):"function"==typeof define&&define.amd?define("common-lib",["exports","@angular/core","@angular/material","@angular/common","@angular/cdk/table","@angular/cdk/collections","rxjs/operators","rxjs","@angular/common/http","@angular/router"],e):e(t["common-lib"]={},t.ng.core,t.ng.material,t.ng.common,t.ng.cdk.table,t.ng.cdk.collections,t.rxjs.operators,t.rxjs,t.ng.common.http,t.ng.router)}(this,function(t,o,e,r,n,a,l,i,s,u){"use strict";var c=function(){function t(){}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"data",{set:function(t){this.displayedColumns=Object.keys(t[0]),this.dataSource=t},enumerable:!0,configurable:!0}),t.decorators=[{type:o.Component,args:[{selector:"lib-data-table",template:'<div class="mat-elevation-z8 example-container">\n              <table mat-table #table [dataSource]="dataSource" matSort>\n                <ng-container *ngFor="let disCol of displayedColumns;" matColumnDef="{{disCol}}">\n                  <th #header mat-header-cell mat-sort-header *matHeaderCellDef> {{disCol}} </th>\n                  <td mat-cell *matCellDef="let element"> {{element[disCol]}} </td>\n                </ng-container>\n                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\n              </table>\n              <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>\n            </div>'}]}],t.ctorParameters=function(){return[]},t.propDecorators={paginator:[{type:o.ViewChild,args:[e.MatPaginator]}],sort:[{type:o.ViewChild,args:[e.MatSort]}],data:[{type:o.Input}]},t}(),d=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:o.Component,args:[{selector:"lib-pager",template:"<p>Pager works</p>"}]}],t.ctorParameters=function(){return[]},t}(),p=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{imports:[r.CommonModule,n.CdkTableModule,e.MatCheckboxModule,e.MatCheckboxModule,e.MatButtonModule,e.MatInputModule,e.MatAutocompleteModule,e.MatDatepickerModule,e.MatFormFieldModule,e.MatRadioModule,e.MatSelectModule,e.MatSliderModule,e.MatSlideToggleModule,e.MatMenuModule,e.MatSidenavModule,e.MatToolbarModule,e.MatListModule,e.MatGridListModule,e.MatCardModule,e.MatStepperModule,e.MatTabsModule,e.MatExpansionModule,e.MatButtonToggleModule,e.MatChipsModule,e.MatIconModule,e.MatProgressSpinnerModule,e.MatProgressBarModule,e.MatDialogModule,e.MatTooltipModule,e.MatSnackBarModule,e.MatTableModule,e.MatSortModule,e.MatPaginatorModule],exports:[r.CommonModule,n.CdkTableModule,e.MatCheckboxModule,e.MatCheckboxModule,e.MatButtonModule,e.MatInputModule,e.MatAutocompleteModule,e.MatDatepickerModule,e.MatFormFieldModule,e.MatRadioModule,e.MatSelectModule,e.MatSliderModule,e.MatSlideToggleModule,e.MatMenuModule,e.MatSidenavModule,e.MatToolbarModule,e.MatListModule,e.MatGridListModule,e.MatCardModule,e.MatStepperModule,e.MatTabsModule,e.MatExpansionModule,e.MatButtonToggleModule,e.MatChipsModule,e.MatIconModule,e.MatProgressSpinnerModule,e.MatProgressBarModule,e.MatDialogModule,e.MatTooltipModule,e.MatSnackBarModule,e.MatTableModule,e.MatSortModule,e.MatPaginatorModule,e.MatNativeDateModule],declarations:[]}]}],t}(),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};function M(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var r,n,a=o.call(t),l=[];try{for(;(void 0===e||0<e--)&&!(r=a.next()).done;)l.push(r.value)}catch(i){n={error:i}}finally{try{r&&!r.done&&(o=a["return"])&&o.call(a)}finally{if(n)throw n.error}}return l}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(M(arguments[e]));return t}var g=function(n){function t(t,e,o){var r=n.call(this)||this;return r.paginator=t,r._data=e,r.sort=o,r.data=e,r}return function r(t,e){function o(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}(t,n),t.prototype.connect=function(){var t=this,e=[i.of(this.data),this.paginator.page,this.sort.sortChange];return this.paginator.length=this.data.length,i.merge.apply(void 0,f(e)).pipe(l.map(function(){return t.getPagedData(t.getSortedData(f(t.data)))}))},t.prototype.disconnect=function(){},t.prototype.getPagedData=function(t){var e=this.paginator.pageIndex*this.paginator.pageSize;return t.splice(e,this.paginator.pageSize)},t.prototype.getSortedData=function(t){var r=this;return this.sort.active&&""!==this.sort.direction?t.sort(function(t,e){var o="asc"===r.sort.direction;switch(r.sort.active){case"name":return m(t.name,e.name,o);case"id":return m(+t.id,+e.id,o);default:return 0}}):t},t}(a.DataSource);function m(t,e,o){return(t<e?-1:1)*(o?1:-1)}var y=function(){function t(t,e){this.hCell=t,this.renderer=e,this.selectAll=new o.EventEmitter,this.selection=new a.SelectionModel(!0,[])}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"data",{set:function(t){this.dataSource=new g(this.paginator,t,this.sort)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{set:function(t){var e=[],o=[];t.forEach(function(t){e.push(t),o.push(t.field)}),this.displayedColumns=e,this.dataFileds=o},enumerable:!0,configurable:!0}),t.prototype.isAllSelected=function(){return this.selection.selected.length==this.dataSource.data.length},t.prototype.masterToggle=function(){var e=this;this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(function(t){return e.selection.select(t)}),console.log(this.selection),this.selectAll.emit(null)},t.prototype.isSelected=function(t){this.selection.toggle(t),console.log(t)},t.prototype.onMouseDown=function(t){this.start=t.target,this.pressed=!0,this.startX=t.x,this.startWidth=t.target.offsetParent.offsetWidth,this.initResizableColumns()},t.prototype.initResizableColumns=function(){var r=this;this.renderer.listenGlobal("body","mousemove",function(t){if(r.pressed){var e=r.startWidth+(t.x-r.startX),o=t.target.offsetParent.cellIndex;r.hCell.nativeElement.querySelector("thead>tr").children[o].style.width=e+"px",r.hCell.nativeElement.querySelector("tbody>tr").children[o].style.width=e+"px"}}),this.renderer.listenGlobal("body","mouseup",function(t){r.pressed&&(r.pressed=!1)})},t.decorators=[{type:o.Component,args:[{selector:"lib-data-grid",template:'<div class="mat-elevation-z8">\n  <div class="example-container">\n    <table  mat-table #table [dataSource]="dataSource" matSort aria-label="Elements">\n      \n      <ng-container [matColumnDef]="cols.field" *ngFor="let cols of displayedColumns" >\n          <ng-container *ngIf="cols.title==\'check\'">\n              <th mat-header-cell *matHeaderCellDef  [ngClass]="{\'mat-table-sticky\':cols.freez}">\n                <mat-checkbox (change)="$event ? masterToggle() : null"\n                              [checked]="selection.hasValue() && isAllSelected()"\n                              [indeterminate]="selection.hasValue() && !isAllSelected()">\n                </mat-checkbox>\n              </th>\n              <td mat-cell  mat-cell *matCellDef="let row" [ngClass]="{\'mat-table-sticky\':cols.freez}">\n                <mat-checkbox (click)="$event.stopPropagation()"\n                              (change)="$event ? isSelected(row) : null"\n                              [checked]="selection.isSelected(row)">\n                </mat-checkbox>\n              </td>\n            </ng-container>\n        <th #header mat-header-cell *matHeaderCellDef mat-sort-header sticky [ngClass]="{\'mat-table-sticky\':cols.freez}"> {{cols.title}} <span \n          class = "ui-column-resizer" \n          (mousedown) = "onMouseDown($event)">\n       </span></th>\n        <td mat-cell *matCellDef="let element" [ngClass]="{\'mat-table-sticky\':cols.freez}"> {{element[cols.field]}} </td>\n      </ng-container>\n      <tr mat-header-row *matHeaderRowDef="dataFileds"></tr>\n      <tr mat-row *matRowDef="let row; columns: dataFileds;">\n      </tr>\n    </table>\n  </div>\n    <mat-paginator #paginator\n      [length]="dataSource.data.length"\n      [pageIndex]="0"\n      [pageSize]="50"\n      [pageSizeOptions]="[5, 10, 20, 40]">\n    </mat-paginator>\n  </div>'}]}],t.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer}]},t.propDecorators={data:[{type:o.Input}],id:[{type:o.Input}],columns:[{type:o.Input}],selectAll:[{type:o.Output}],paginator:[{type:o.ViewChild,args:[e.MatPaginator]}],sort:[{type:o.ViewChild,args:[e.MatSort]}]},t}(),b=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{imports:[p,s.HttpClientModule],declarations:[c,d,y],exports:[c,d,y,p]}]}],t}(),C=function(){function t(t){this._http=t,this.baseUrl="http://localhost:8081/"}return Object.defineProperty(t.prototype,"procurantContext",{get:function(){return this.getContext()},enumerable:!0,configurable:!0}),t.prototype.getContext=function(){return{url:this.url.bind(this),addParam:this.addParam.bind(this),get:this.get.bind(this),post:this.post.bind(this),put:this.put.bind(this),"delete":this["delete"].bind(this)}},t.prototype.createHeader=function(t){var e=new s.HttpHeaders;return e.append("Content-Type",t||"application/json"),e},t.prototype.url=function(t){return this._url=this.baseUrl+t,this},t.prototype.addParam=function(t,e){return e!=undefined&&(0<=this._url.indexOf("?")?this._url+="&"+t+"="+e:this._url+="?"+t+"="+e),this},t.prototype.get=function(t){var e=this.createHeader(t);if(this._url)return this._http.get(this._url,{headers:e})},t.prototype.post=function(t,e){var o=this.createHeader(e);if(this._url)return this._http.post(this._url,t,{headers:o})},t.prototype.put=function(t,e){var o=this.createHeader(e);if(this._url)return this._http.put(this._url,t,{headers:o})},t.prototype["delete"]=function(t){var e=this.createHeader(t);if(this._url)return this._http["delete"](this._url,{headers:e})},t.prototype.setBaseUrl=function(t){this.baseUrl=t},t.prototype.getBaseUrl=function(){return this.baseUrl},t.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:s.HttpClient}]},t.ngInjectableDef=o.defineInjectable({factory:function(){return new t(o.inject(s.HttpClient))},token:t,providedIn:"root"}),t}(),v=function(){function t(t){this.injector=t}return t.prototype.handleError=function(t){var e=this.injector.get(u.Router);console.log("URL: "+e.url),t instanceof s.HttpErrorResponse?(console.error("Backend returned status code: ",t.status),console.error("Response body:",t.message)):console.error("An error occurred:",t.message),e.navigate(["/error"])},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:o.Injector}]},t}();t.CommonLibModule=b,t.CommonMaterialModule=p,t.HttpService=C,t.GlobalErrorHandlerService=v,t.ɵc=y,t.ɵa=c,t.ɵb=d,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=common-lib.umd.min.js.map